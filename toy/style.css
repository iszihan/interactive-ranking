/* ---------- base ---------- */
:root{
  --tile-min: 80px;
  --tile-ideal: 8vw;   /* default; will be overridden by JS */
  --tile-max: 220px;
}

* { box-sizing: border-box; }

body{
  margin: 0;
  padding-top: 50px;
  background: #f4f4f4;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  display: flex;
  justify-content: center;
}

.hidden{ display: none !important; }

#controls{ margin-bottom: 16px; }

/* fixed bottom bar for Next button */
#nextWrap{
  position: fixed;
  left: 0; right: 0; bottom: 16px;
  display: flex; justify-content: center;
  pointer-events: none;
}
#nextWrap button{ pointer-events: auto; }

/* ---------- gallery (unrelated to ranking) ---------- */
#gallery{
  display: flex; flex-wrap: wrap; gap: 10px;
  max-width: 95vw;
}
#gallery img{
  height: 120px; width: auto; display: block; border-radius: 6px;
}

/* ---------- ranking container (scrolling row) ---------- */
#container{
  display:flex;
  flex-wrap: nowrap !important;   /* force one row */
  gap:12px; overflow-x:auto; padding:8px 12px; max-width:95vw;
  align-items:flex-start;
}


.brick{
  flex: 0 0 clamp(var(--tile-min), var(--tile-ideal), var(--tile-max));
  position: relative;
  aspect-ratio: 1 / 1;
  border-radius: 12px;
  background: #f6f7fb;
  box-shadow: 0 2px 10px rgba(0,0,0,.06);
  display: grid; place-items: center;
  cursor: grab;
  transition: transform .2s ease;
}

/* image fills the box once loaded */
.brick img{
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: contain;              /* or 'cover' if you prefer */
  display: block;
  pointer-events: none;
}

/* centered loading overlay (visible until image decoded) */
.brick .loading{
  position: absolute; inset: 0;
  display: grid; place-items: center;
  background: rgba(255,255,255,.85);
  border-radius: inherit;
  color: #222;                      /* avoid inherited white */
}
.brick img,
.brick .loading {
  border-radius: inherit;        /* keep loader/image corners round */
}
.loading-wrap{ display: grid; justify-items: center; row-gap: .5rem; text-align: center; }

.spinner{
  width: 22px; height: 22px;
  border: 3px solid #999; border-top-color: transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin{ to { transform: rotate(360deg); } }

/* drag states */
.brick.dragging{
  opacity: .9;
  cursor: grabbing;
  z-index: 10;
  transition: none;                 /* stop animating while dragged */
}
.brick.resetting{ transition: none; }

/* misc */
#source{
  position: fixed; top: 10px; right: 10px;
  font-size: .8em;
}
